<?xml version="1.0" encoding="UTF-8"?>
<openerp>
    <data>
        
        <record id="vhr_multi_renew_contract_detail_view" model="ir.ui.view">
            <field name="name">vhr.multi.renew.contract.detail.form</field>
            <field name="model">vhr.multi.renew.contract.detail</field>
            <field name="arch" type="xml">
                <form string="Renew" version="7.0">
                    <sheet>
                    	<group>
                    		<field name="multi_renew_id"/>
                    	</group>
                        <group string="Current contract's info">
                            <group>
                                <field name="employee_id" readonly="1"/>
                                <field name="contract_id" readonly="1"/>
                                <field name="type_name" readonly="1"/>
                                <field name="company_id" readonly="1" invisible="1"/>
                                <!--<field name="is_on_probation" readonly="1" invisible="1"/>
                                <field name="is_terminated" readonly="1" invisible="1"/>-->
                            </group>
                            <group>
                                <field name="employee_code" readonly="1"/>
                                <label for="date_start" string="Duration" readonly="1"/>
                                <div>
                                    <field name="date_start" class="oe_inline" readonly="1"/>
                                    -
                                    <field name="date_end_temp_func" class="oe_inline" readonly="1"/>
                                </div>
                                <!--<field name="liquidation_date" class="text_high"
                                       attrs="{'readonly': [('is_terminated','=', True)]}"
                                       on_change="onchange_liquidation(date_start,date_end,liquidation_date,context)"/>
                                <field name="liquidation_reason" class="text_high"
                                       attrs="{'readonly': [('is_terminated','=', True)]}"/>-->
                            </group>
                        </group>

                        <group string="Renew contract's info">
                            <group>
                                <field name="new_type_id" domain="[('id', 'in', list_contract_type_id)]" string='New Term'
                                       on_change="on_change_new_info(new_type_id,new_date_start)" required="1"/>
                                <field name="list_contract_type_id" invisible="1"/>
                                <field name="appendix_type_id" string="New Appendix Type" />
                                <!--<field name="include_probation"
                                       attrs="{'invisible': [('is_on_probation','=', False)]}"
                                       on_change="onchange_include_probation(include_probation, employee_id, company_id)"/>-->
                            </group>
                            <group>
                                <label for="new_date_start" string="Duration"/>
                                <div>
                                    <field name="new_date_start" on_change="on_change_new_info(new_type_id,new_date_start)"
                                           class="oe_inline" required="1"/>
                                    -
                                    <field name="new_date_end" options="{'save_readonly': True}"
                                           class="oe_inline" readonly="1"/>
                                </div>
                            </group>
                        </group>

                    </sheet>
                </form>
            </field>
        </record>
        
        
        <record id="view_vhr_multi_renew_contract_detail_tree" model="ir.ui.view">
       		<field name="name">vhr.multi.renew.contract.detail.view.tree</field>
       		<field name="model">vhr.multi.renew.contract.detail</field>
       		<field name="arch" type="xml">
      			<tree string="Detail" version="7.0" edit='0' create='0' delete='0'>
      				<field name="employee_code" readonly="1"/>
      				<field name="employee_id" readonly="1"/>
                    <field name="contract_id" readonly="1"/>
                    <field name="type_name" readonly="1"/>
                    <field name="date_start"/>
                    <field name="date_end_temp_func" />
                    <field name="renew_status"/>
                    <field name="new_type_id"/>
                    <field name="appendix_type_id" string="New Appendix Type" />
                    <field name="new_date_end"/>
                    <field name="request_state"/>
      			</tree>
     		</field>
       	</record>
       	
       	<record id="view_vhr_multi_renew_contract_detail_search" model="ir.ui.view">
        	<field name="name">vhr.multi.renew.contract.detail.view.search</field>
        	<field name="model">vhr.multi.renew.contract.detail</field>
        	<field name="arch" type="xml">
        		<search string="Detail">
        			<group expand="0" string="Group by...">
        				<filter string="Renew Status" name="group_renew_status" context="{'group_by':'renew_status'}"/>
        				<filter string="New Type" name="group_new_type_id" context="{'group_by':'new_type_id'}"/>
        			</group>
        			<field name="name" string="Renew Contract" 
	                  		filter_domain="['|','|','|','|',('name','ilike',self),('employee_id.name','ilike',self),('employee_id.login','ilike',self),('employee_id.code','ilike',self),('contract_id.name','ilike',self)]"/>
        			
        			<field name="new_type_id"/>
        			<field name="appendix_type_id"/>
        		</search>
        	</field>
        </record>
        
        <record model="ir.actions.act_window" id="act_vhr_multi_renew_contract_detail">
       		<field name="name">Renew Contract Detail</field> 
            <field name="res_model">vhr.multi.renew.contract.detail</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="view_id" ref="view_vhr_multi_renew_contract_detail_tree"/>
            <field name="search_view_id" ref="view_vhr_multi_renew_contract_detail_search"/>
       	</record>
        
	</data>
</openerp>