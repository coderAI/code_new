<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data>
    	
    	<record id="view_vhr_exit_checklist_request_submit_form" model="ir.ui.view">
            <field name="name">vhr.exit.checklist.request.submit.form</field>
            <field name="model">vhr.exit.checklist.request</field>
            <field name="type">form</field>
            <field name="priority" eval="20"/>
            <field name="arch" type="xml">
                <form string="Note" version="7.0">
                    <separator string="Ghi chú" colspan="4" required="context.get('required_comment',False)"/>
                    <group col='4'>
	                    <field name="back_department_ids" widget="many2many_tags" required="context.get('show_back_department',False)"
	                    context="{'exit_checklist_request':context['active_id']}"
	                    options="{'no_quick_create' : True, 'no_create':True, 'no_open': True,'save_readonly': True}"
	                     invisible="not context.get('show_back_department',False)" string="Departments To Return"/>
                    </group>
                    
                    <footer>
                        <button name="execute_workflow"
                                string="Submit" one_click_button="True"
                                type="object" icon="gtk-save"
                                class="oe_highlight" context="{'ACTION_COMMENT': action_comment, 'back_department_ids':back_department_ids}"/>
                        or
                        <button string="Cancel" class="oe_link" special="cancel"/>
                    </footer>
                </form>
            </field>
        </record>
        
        <record id="view_vhr_exit_checklist_request_form" model="ir.ui.view">
            <field name="name">vhr.exit.checklist.request.view.form</field>
            <field name="model">vhr.exit.checklist.request</field>
            <field name="groups_id" eval=""/>
            <field name="arch" type="xml">
                <form string="Exit Checklist Request" version="7.0">
                	<header>
                        <field name="state" widget="statusbar"
                               statusbar_visible="draft,department,hrbp,hr_executor,finish"/>
                    </header>
       				<sheet>
       					<div class="oe_right" name="buttons">
                            <div class="oe_button_box" attrs="{'invisible': [('is_person_do_action','=',False)]}">
                                <button string="Gửi phê duyệt" name="open_window" type="object"
                                        class="oe_stat_button bg_icon_green"
                                        icon="fa-mail-forward"
                                        context="{'state': state,'action':'submit'}"
                                        states="draft"/>

                                <button string="Duyệt" name="open_window" type="object"
                                        class="oe_stat_button bg_icon_green"
                                        icon="fa-mail-forward"
                                        context="{'state': state,'action':'submit'}"
                                        states="department,hrbp,hr_executor"/>

<!--                                <button string="Return" name="open_window" type="object"-->
<!--                                        class="oe_stat_button bg_icon_red"-->
<!--                                        icon="fa-mail-reply"-->
<!--                                        save_no_required='True'-->
<!--                                        context="{'state': state, 'action': 'return', 'required_comment':True}"-->
<!--                                        states="hr_executor"/>-->
                            </div>
                            <div class="oe_button_box"  attrs="{'invisible': [('is_person_able_to_reject','=',False)]}">
	                        	<button string="Từ chối yêu cầu" name="open_window" type="object"
	                                    class="oe_stat_button bg_icon_red"
	                                    icon="fa-times"
	                                    save_no_required='True'
	                            		states="department,finish"
	                                    context="{'state': state,'action':'reject', 'required_comment':True}"/>
	                        </div>
                        </div>
                        
                        <group>
                        	<field name="request_date" readonly='1' string="Ngày tạo yêu cầu"/>
                        	<field name="approve_date" invisible='1' options="{'save_readonly': True}"/>
                        </group>
       					<group>
       						<group>
       							<field name="employee_id" required="1" on_change="onchange_employee_id(employee_id)"
       							context="{'filter_by_group':True,'active_test':False, 'tree_view_ref':'vhr_human_resource.view_vhr_human_resource_mimimal_employee_tree'}" string="Nhân viên"
       							attrs="{'readonly': ['|',('is_new','=',False),('is_person_able_to_edit_employee','=',False)]}"
       							options="{'no_quick_create' : True, 'no_create':True, 'no_open': True,'save_readonly': True}"/>
       							
       							<field name="email" string="Email cá nhân" required='1' attrs="{'readonly': [('state','!=','draft')]}"
       							options="{'validate_email': True}"/>	
       							<field name="join_date" readonly='1' options="{'save_readonly': True}" string="Ngày bắt đầu làm việc"/>	
       						</group>
       						<group>
       							<field name="name" invisible='1'/>
       							<field name="employee_code" readonly='1' string="Mã Nhân Viên"/>
       							<field name='department_id' readonly='1' string="Phòng làm việc"
       							options="{'no_quick_create' : True, 'no_create':True, 'no_open': True,'save_readonly': True}"/>
       							<field name="last_working_date" readonly='1' options="{'save_readonly': True}" string="Ngày làm việc cuối cùng"/>	
       								
       							<field name="is_person_do_action" invisible='1'/>
       							<field name="is_person_responsibilities_hand_over" invisible='1'/>
       							<field name="is_person_administrative_office" invisible='1'/>
       							<field name="is_person_administrative_office_other" invisible='1'/>
       							<field name="is_person_it_office" invisible='1'/>
       							<field name="is_person_it_office_other" invisible='1'/>
       							<field name="is_person_accounting_office" invisible='1'/>
       							<field name="is_person_accounting_office_other" invisible='1'/>
       							<field name="is_person_hr_office_training" invisible='1'/>
       							<field name="is_person_hr_office_other" invisible='1'/>
       							
       							<field name="is_approve_responsibilities_hand_over" invisible='1' readonly='1'/>
       							<field name="is_approve_administrative_office" invisible='1' readonly='1'/>
       							<field name="is_approve_administrative_office_other" invisible='1' readonly='1'/>
       							
       							<field name="is_approve_it_office" invisible='1' readonly='1'/>
       							<field name="is_approve_it_office_other" invisible='1' readonly='1'/>
       							<field name="is_approve_accounting_office" invisible='1' readonly='1'/>
       							<field name="is_approve_accounting_office_other" invisible='1' readonly='1'/>
       							<field name="is_approve_hr_office_training" invisible='1' readonly='1'/>
       							<field name="is_approve_hr_office_other" invisible='1' readonly='1'/>
       							<field name="is_new" invisible='1'/>
								<field name="is_person_able_to_edit_employee" invisible='1'/>       
								<field name="is_person_do_action_for_department" invisible='1'/>	
								<field name="is_person_able_to_reject" invisible='1'/>		
								<field name="is_cb_termination" invisible='1'/>	
								<field name="city_id" invisible='1'   options="{'no_quick_create' : True, 'no_create':True, 'no_open': True,'save_readonly': True}"/>       										
       						</group>
       					</group>
       					<group>
       						<field name="note" attrs="{'readonly':[('is_cb_termination','=',False)]}" string="Ghi chú"/>
       					</group>
       					
       					<notebook>
       						<page string="Thông tin chung">
		       					<group string="A. BÀN GIAO CÔNG VIỆC" col='4'
		       						attrs="{'invisible':['|',('responsibilities_hand_over_ids','=',[]),
		       						'&amp;','&amp;',('is_person_do_action_for_department','=',True),('is_person_responsibilities_hand_over','=',False),('is_cb_termination','=',False)]}">
		       							<field name="approver_user_responsibilities_hand_over" string="Các tài sản này sẽ bàn giao cho"/>
		       							<label for="is_approve_responsibilities_hand_over" string="Đã phê duyệt" class="vhr_human_resource_important_message"
		       							attrs="{'invisible':[('is_approve_responsibilities_hand_over','=',False)]}"/>
		       							<label for="is_approve_responsibilities_hand_over" string="Chưa phê duyệt" class="vhr_human_resource_warning_message"
		       							attrs="{'invisible':[('is_approve_responsibilities_hand_over','=',True)]}"/>
		       						<newline/>
		       						<field name="responsibilities_hand_over_ids" nolabel='1' colspan='4'
		       							context="{'default_type_exit':'responsibilities_hand_over'}"
		       							options="{'save_readonly': True}"
		       							attrs="{'readonly': [('is_cb_termination','=',False),'|','|','|',
		       													('state','=','draft'),
		       													'&amp;','&amp;',('state','=','department'),('is_person_responsibilities_hand_over','=',True),('is_approve_responsibilities_hand_over','=',True),
		       													'&amp;',('state','=','department'),('is_person_responsibilities_hand_over','=',False),
		       													'&amp;',('state','in',['finish','cancel']),('is_person_do_action','=',False),
		       												]}">
		       							<tree string="Exit Checklist Detail" version="7.0" editable='True' delete='false'>
						                    <field name="name" attrs="{'readonly':[('exit_id','!=',False)]}" string="Nội dung"/>
		       								<field name="exit_id" invisible='1' on_change="onchange_exit_id(exit_id)"/>
						 					<!--<field name="money_included_in_the_settlement" string="Số tiền đưa vào quyết toán(nếu có)"
						 					 options='{"validate_number": "1"}' required='1'/>-->
						 					<field name="withdraw_date" string="Ngày thu hồi"/>
						 					<field name="note" string="Ghi chú của người phê duyệt"/>
						 					<field name="type_exit" invisible='1'/>
						                </tree>
		       						</field>
		       					</group>	
		       					<separator string="B. BÀN GIAO CHO CÁC PHÒNG BAN LIÊN QUAN"
		       					attrs="{'invisible':[('is_person_responsibilities_hand_over','=',True),
		       										 ('is_person_administrative_office','=',False),
		       										 ('is_person_administrative_office_other','=',False),
		       										 ('is_person_it_office','=',False),
		       										 ('is_person_it_office_other','=',False),
		       										 ('is_person_accounting_office','=',False),
		       										 ('is_person_hr_office_training','=',False),	
		       										 ('is_person_hr_office_other','=',False),	
		       						]}"/>
		       					<group string="1A. PHÒNG HÀNH CHÍNH" col='4'
		       						attrs="{'invisible':['|',('administrative_office_ids','=',[]),
		       						'&amp;','&amp;',('is_person_do_action_for_department','=',True),('is_person_administrative_office','=',False),('is_cb_termination','=',False)]}">
		       						<field name="approver_user_administrative_office" string="Các tài sản này sẽ bàn giao cho"/>
		       						<label for="is_approve_administrative_office" string="Đã phê duyệt" class="vhr_human_resource_important_message"
		       						attrs="{'invisible':[('is_approve_administrative_office','=',False)]}"/>
		       						<label for="is_approve_administrative_office" string="Chưa phê duyệt" class="vhr_human_resource_warning_message"
		       							attrs="{'invisible':[('is_approve_administrative_office','=',True)]}"/>
		       						<newline/>
		       						<field name="administrative_office_ids" nolabel='1' colspan="4"
		       							options="{'save_readonly': True}"
		       							context="{'default_type_exit':'administrative_office'}"
		       							attrs="{'readonly': [('is_cb_termination','=',False),'|','|','|',
		       													('state','=','draft'),
		       													'&amp;','&amp;',('state','=','department'),('is_person_administrative_office','=',True),('is_approve_administrative_office','=',True),
		       													'&amp;',('state','=','department'),('is_person_administrative_office','=',False),
		       													'&amp;',('state','in',['finish','cancel']),('is_person_do_action','=',False),
		       												]}">
		       							<tree string="Exit Checklist Detail" version="7.0" editable='True' delete='false'>
						                    <field name="name" attrs="{'readonly':[('property_management_id','!=',False)]}" string="Nội dung"/>
		       								<field name="exit_id" invisible='1' on_change="onchange_exit_id(exit_id)"/>
						 					<field name="money_included_in_the_settlement" string="Số tiền đưa vào quyết toán(nếu có)"
						 					options='{"validate_number": "1"}' required="1"  widget="number_separator"/>
						 					<field name="withdraw_date" string="Ngày thu hồi"/>
						 					<field name="note" string="Ghi chú của người phê duyệt"/>
						 					<field name="type_exit"  invisible='1'/>
						 					<field name="property_management_id" invisible='1'/>
						                </tree>
		       						</field>
		       					</group>
		       					<group string="1B. PHÒNG HÀNH CHÍNH (OTHERS)" col='4'
		       						attrs="{'invisible':['|',('administrative_office_other_ids','=',[]),
		       						'&amp;','&amp;',('is_person_do_action_for_department','=',True),('is_person_administrative_office_other','=',False),('is_cb_termination','=',False)]}">
		       						<field name="approver_user_administrative_office_other"  string="Các tài sản này sẽ bàn giao cho"/>
		       						<label for="is_approve_administrative_office_other" string="Đã phê duyệt" 
		       							attrs="{'invisible':[('is_approve_administrative_office_other','=',False)]}"
		       							class="vhr_human_resource_important_message"/>
		       						<label for="is_approve_administrative_office_other" string="Chưa phê duyệt" class="vhr_human_resource_warning_message"
		       							attrs="{'invisible':[('is_approve_administrative_office_other','=',True)]}"/>
		       						<newline/>
		       						<field name="administrative_office_other_ids" nolabel='1' colspan="4"
		       							options="{'save_readonly': True}"
		       							context="{'default_type_exit':'administrative_office_other'}"
		       							attrs="{'readonly': [('is_cb_termination','=',False),'|','|','|',
		       													('state','=','draft'),
		       													'&amp;','&amp;',('state','=','department'),('is_person_administrative_office_other','=',True),('is_approve_administrative_office_other','=',True),
		       													'&amp;',('state','=','department'),('is_person_administrative_office_other','=',False),
		       													'&amp;',('state','in',['finish','cancel']),('is_person_do_action','=',False),
		       												]}">
		       							<tree string="Exit Checklist Detail" version="7.0" editable='True' delete='false'>
						                    <field name="name" attrs="{'readonly':[('exit_id','!=',False)]}" string="Nội dung"/>
		       								<field name="exit_id" invisible='1' on_change="onchange_exit_id(exit_id)"/>
						 					<field name="money_included_in_the_settlement" string="Số tiền đưa vào quyết toán(nếu có)"
												options='{"validate_number": "1"}' required="1" widget="number_separator"/>
						 					<field name="withdraw_date" string="Ngày thu hồi"/>
						 					<field name="note" string="Ghi chú của người phê duyệt"/>
						 					<field name="type_exit"  invisible='1'/>
						                </tree>
		       						</field>
		       					</group>
		       					<group string="2A. PHÒNG CÔNG NGHỆ THÔNG TIN" attrs="{'invisible':[('is_person_do_action_for_department','=',True),('is_person_it_office','=',False),('is_cb_termination','=',False)]}" col='4'>
		       						<field name="approver_user_it_office" string="Các tài sản này sẽ bàn giao cho"  />
		       						<label for="is_approve_it_office" string="Đã phê duyệt" 
		       							attrs="{'invisible':[('is_approve_it_office','=',False)]}"
		       							class="vhr_human_resource_important_message"/>
		       						<label for="is_approve_it_office" string="Chưa phê duyệt" class="vhr_human_resource_warning_message"
		       							attrs="{'invisible':[('is_approve_it_office','=',True)]}"/>
								</group>
								<group attrs="{'invisible':[('is_person_do_action_for_department','=',True),('is_person_it_office','=',False),('is_cb_termination','=',False)]}" >
									<field name="it_office_ids" nolabel='1' colspan="4"
		       							options="{'save_readonly': True}"
										context="{'default_type_exit':'it_office'}"
		       							attrs="{'readonly': [('is_cb_termination','=',False),'|','|','|',
		       													('state','=','draft'),
																'&amp;','&amp;',('state','=','department'),('is_person_it_office','=',True),('is_approve_it_office','=',True),
																'&amp;',('state','=','department'),('is_person_it_office','=',False),
		       													'&amp;',('state','in',['finish','cancel']),('is_person_do_action','=',False)],
												'required':[('state','=','department'),('is_person_do_action','=',True),('is_person_it_office','=',True)] }">
		       							<tree string="Exit Checklist Detail" version="7.0" editable='True' delete='false' create='false'>
						                    <field name="name" invisible='1' string="Nội dung"/>
		       								<field name="exit_id" invisible='1' on_change="onchange_exit_id(exit_id)"/>
						 					<field name="money_included_in_the_settlement" string="Số tiền đưa vào quyết toán(nếu có)"
						 					options='{"validate_number": "1"}' required='1'  widget="number_separator"/>
						 					<field name="withdraw_date" string="Ngày thu hồi"/>
						 					<field name="note" string="Ghi chú của người phê duyệt"/>
						 					<field name="type_exit"  invisible='1'/>
						 					<field name="property_management_id" invisible='1'/>
						                </tree>
		       						</field>
									<!--<div>
										<label for="notes_of_it_office" string="Ghi chú của người phê duyệt" style="width: 25%%" required='1'/>
										<field name="notes_of_it_office" nolabel='1' style="width: 75%%"
										attrs="{'readonly': ['|','|','|',
		       													('state','=','draft'),
																'&amp;','&amp;',('state','=','department'),('is_person_it_office','=',True),('is_approve_it_office','=',True),
																'&amp;',('state','=','department'),('is_person_it_office','=',False),
		       													'&amp;',('state','in',['finish','cancel']),('is_person_do_action','=',False)],
												'required':[('state','=','department'),('is_person_do_action','=',True),('is_person_it_office','=',True)] }"/>
									</div>
									<div>
										<label  for="money_payment_of_it_office" string="Số tiền đưa vào quyết toán(nếu có)"  style="width: 15%%"/>
										<field name="money_payment_of_it_office"   style="width: 25%%"  options="{'show_zero':1}"
										attrs="{'readonly': ['|','|','|',
		       													('state','=','draft'),
																'&amp;','&amp;',('state','=','department'),('is_person_it_office','=',True),('is_approve_it_office','=',True),
																'&amp;',('state','=','department'),('is_person_it_office','=',False),
		       													'&amp;',('state','in',['finish','cancel']),('is_person_do_action','=',False)]}"/>
										<label  for="is_approve_it_office" string="VND" style="width: 55%%"/>
										<field name="is_approve_it_office" invisible='1'/>
									</div>-->

								</group>
		       					<group string="2B. PHÒNG CÔNG NGHỆ THÔNG TIN (OTHERS)" col='4'
		       						attrs="{'invisible':['|',('it_office_other_ids','=',[]),
		       						'&amp;','&amp;',('is_person_do_action_for_department','=',True),('is_person_it_office_other','=',False),('is_cb_termination','=',False)]}">
		       						<field name="approver_user_it_office_other"  string="Các tài sản này sẽ bàn giao cho"/>
		       						<label for="is_approve_it_office_other" string="Đã phê duyệt" 
		       							attrs="{'invisible':[('is_approve_it_office_other','=',False)]}"
		       							class="vhr_human_resource_important_message"/>
		       						<label for="is_approve_it_office_other" string="Chưa phê duyệt" class="vhr_human_resource_warning_message"
		       							attrs="{'invisible':[('is_approve_it_office_other','=',True)]}"/>
		       						<newline/>
		       						<field name="it_office_other_ids" nolabel='1' colspan="4"
		       							options="{'save_readonly': True}"
		       							context="{'default_type_exit':'it_office_other'}"
		       							attrs="{'readonly': [('is_cb_termination','=',False),'|','|','|',
		       													('state','=','draft'),
		       													'&amp;','&amp;',('state','=','department'),('is_person_it_office_other','=',True),('is_approve_it_office_other','=',True),
		       													'&amp;',('state','=','department'),('is_person_it_office_other','=',False),
		       													'&amp;',('state','in',['finish','cancel']),('is_person_do_action','=',False),
		       												]}">
		       							<tree string="Exit Checklist Detail" version="7.0" editable="True" delete='false'>
						                    <field name="name" attrs="{'readonly':[('exit_id','!=',False)]}" string="Nội dung"/>
		       								<field name="exit_id" invisible='1' on_change="onchange_exit_id(exit_id)"/>
						 					<field name="money_included_in_the_settlement" string="Số tiền đưa vào quyết toán(nếu có)"
						 					options='{"validate_number": "1"}' invisible='1'  widget="number_separator"/>
						 					<field name="withdraw_date" string="Ngày bàn giao"/>
						 					<field name="note" string="Ghi chú của người phê duyệt"/>
						 					<field name="type_exit" invisible='1' />
						 					<field name="property_management_id" invisible='1'/>
						                </tree>
		       						</field>
		       					</group>
		       					<group string="3A. PHÒNG TÀI CHÍNH &amp; KẾ TOÁN" col='4'
		       						attrs="{'invisible':['|',('accounting_office_ids','=',[]),
		       						'&amp;','&amp;',('is_person_do_action_for_department','=',True),('is_person_accounting_office','=',False),('is_cb_termination','=',False)]}">
		       						<field name="approver_user_accounting_office"  string="Các tài sản này sẽ bàn giao cho"/>
		       						<label for="is_approve_accounting_office" string="Đã phê duyệt" 
		       							attrs="{'invisible':[('is_approve_accounting_office','=',False)]}"
		       							class="vhr_human_resource_important_message"/>
		       						<label for="is_approve_accounting_office" string="Chưa phê duyệt" class="vhr_human_resource_warning_message"
		       							attrs="{'invisible':[('is_approve_accounting_office','=',True)]}"/>
		       						<newline/>
		       						<field name="accounting_office_ids" nolabel='1' colspan="4"
		       							options="{'save_readonly': True}"
		       							context="{'default_type_exit':'accounting_office'}"
		       							attrs="{'readonly': [('is_cb_termination','=',False),'|','|','|',
		       													('state','=','draft'),
		       													'&amp;','&amp;',('state','=','department'),('is_person_accounting_office','=',True),('is_approve_accounting_office','=',True),
		       													'&amp;',('state','=','department'),('is_person_accounting_office','=',False),
		       													'&amp;',('state','in',['finish','cancel']),('is_person_do_action','=',False),
		       												]}">
		       							<tree string="Exit Checklist Detail" version="7.0" editable="True" delete='false'>
						                    <field name="name" attrs="{'readonly':[('exit_id','!=',False)]}" string="Nội dung"/>
		       								<field name="exit_id" invisible='1' on_change="onchange_exit_id(exit_id)"/>
						 					<field name="money_included_in_the_settlement" string="Số tiền đưa vào quyết toán(nếu có)"
						 					options='{"validate_number": "1"}' required='1'  widget="number_separator"/>
						 					<field name="withdraw_date" string="Ngày bàn giao"/>
						 					<field name="note" string="Ghi chú của người phê duyệt"/>
						 					<field name="type_exit" invisible='1' />
						                </tree>
		       						</field>
		       					</group>
		       					<group string="3B. PHÒNG TÀI CHÍNH &amp; KẾ TOÁN (HDKD)" col='4'
		       						attrs="{'invisible':['|',('accounting_office_other_ids','=',[]),
		       						'&amp;','&amp;',('is_person_do_action_for_department','=',True),('is_person_accounting_office_other','=',False),('is_cb_termination','=',False)]}">
		       						<field name="approver_user_accounting_office_other"  string="Các tài sản này sẽ bàn giao cho"/>
		       						<label for="is_approve_accounting_office_other" string="Đã phê duyệt" 
		       							attrs="{'invisible':[('is_approve_accounting_office_other','=',False)]}"
		       							class="vhr_human_resource_important_message"/>
		       						<label for="is_approve_accounting_office_other" string="Chưa phê duyệt" class="vhr_human_resource_warning_message"
		       							attrs="{'invisible':[('is_approve_accounting_office_other','=',True)]}"/>
		       						<newline/>
		       						<field name="accounting_office_other_ids" nolabel='1' colspan="4"
		       							options="{'save_readonly': True}"
		       							context="{'default_type_exit':'accounting_office_other'}"
		       							attrs="{'readonly': [('is_cb_termination','=',False),'|','|','|',
		       													('state','=','draft'),
		       													'&amp;','&amp;',('state','=','department'),('is_person_accounting_office_other','=',True),('is_approve_accounting_office_other','=',True),
		       													'&amp;',('state','=','department'),('is_person_accounting_office_other','=',False),
		       													'&amp;',('state','in',['finish','cancel']),('is_person_do_action','=',False),
		       												]}">
		       							<tree string="Exit Checklist Detail" version="7.0" editable='True' delete='false' create='false'>
						                    <field name="name" invisible='1' string="Nội dung"/>
		       								<field name="exit_id" invisible='1' on_change="onchange_exit_id(exit_id)"/>
						 					<field name="money_included_in_the_settlement" string="Số tiền đưa vào quyết toán(nếu có)"
						 					options='{"validate_number": "1"}' required='1'  widget="number_separator"/>
						 					<field name="withdraw_date" string="Ngày thu hồi"/>
						 					<field name="note" string="Ghi chú của người phê duyệt"/>
						 					<field name="type_exit"  invisible='1'/>
						 					<field name="property_management_id" invisible='1'/>
						                </tree>
		       						</field>
		       					</group>
		       					<group string="4A. PHÒNG NHÂN SỰ (TRAINING)" col='4'
		       						attrs="{'invisible':['|',('hr_office_training_ids','=',[]),
		       						'&amp;','&amp;',('is_person_do_action_for_department','=',True),('is_person_hr_office_training','=',False),('is_cb_termination','=',False)]}">
		       						<field name="approver_user_hr_office_training" string="Các tài sản này sẽ bàn giao cho"/>
		       						<label for="is_approve_hr_office_training" string="Đã phê duyệt" 
		       							attrs="{'invisible':[('is_approve_hr_office_training','=',False)]}"
		       							class="vhr_human_resource_important_message"/>
		       						<label for="is_approve_hr_office_training" string="Chưa phê duyệt" class="vhr_human_resource_warning_message"
		       							attrs="{'invisible':[('is_approve_hr_office_training','=',True)]}"/>
		       						<newline/>
		       						<field name="hr_office_training_ids" nolabel='1' colspan="4"
		       							options="{'save_readonly': True}"
		       							context="{'default_type_exit':'hr_office_training'}"
		       							attrs="{'readonly': [('is_cb_termination','=',False),'|','|','|',
		       													('state','=','draft'),
		       													'&amp;','&amp;',('state','=','department'),('is_person_hr_office_training','=',True),('is_approve_hr_office_training','=',True),
		       													'&amp;',('state','=','department'),('is_person_hr_office_training','=',False),
		       													'&amp;',('state','in',['finish','cancel']),('is_person_do_action','=',False),
		       												]}">
		       							<tree string="Exit Checklist Detail" version="7.0" editable="True" delete='false'>
		       								<field name="name" attrs="{'readonly':[('exit_id','!=',False)]}" string="Nội dung"/>
						                    <field name="exit_id" invisible='1' on_change="onchange_exit_id(exit_id)"/>
						 					<field name="money_included_in_the_settlement"  string="Số tiền đưa vào quyết toán(nếu có)"
											options='{"validate_number": "1"}' required='1'  widget="number_separator"/>
						 					<field name="withdraw_date" string="Ngày bàn giao"/>
						 					<field name="note" string="Ghi chú của người phê duyệt"/>
						 					<field name="type_exit" invisible='1' />
						                </tree>
		       						</field>
		       					</group>
		       					<group string="4B. PHÒNG NHÂN SỰ (OTHERS)" col='4'
		       						attrs="{'invisible':['|',('hr_office_other_ids','=',[]),
		       						'&amp;','&amp;',('is_person_do_action_for_department','=',True),('is_person_hr_office_other','=',False),('is_cb_termination','=',False)]}">
		       						<field name="approver_user_hr_office_other" string="Các tài sản này sẽ bàn giao cho"/>
		       						<label for="is_approve_hr_office_other" string="Đã phê duyệt" 
		       							attrs="{'invisible':[('is_approve_hr_office_other','=',False)]}"
		       							class="vhr_human_resource_important_message"/>
		       						<label for="is_approve_hr_office_other" string="Chưa phê duyệt" class="vhr_human_resource_warning_message"
		       							attrs="{'invisible':[('is_approve_hr_office_other','=',True)]}"/>
		       						<newline/>
		       						<field name="hr_office_other_ids" nolabel='1' colspan="4"
		       							options="{'save_readonly': True}"
		       							context="{'default_type_exit':'hr_office_other'}"
		       							attrs="{'readonly': [('is_cb_termination','=',False),'|','|','|',
		       													('state','=','draft'),
		       													'&amp;','&amp;',('state','=','department'),('is_person_hr_office_other','=',True),('is_approve_hr_office_other','=',True),
		       													'&amp;',('state','=','department'),('is_person_hr_office_other','=',False),
		       													'&amp;',('state','in',['finish','cancel']),('is_person_do_action','=',False),
		       												]}">
		       							<tree string="Exit Checklist Detail" version="7.0" editable="True" delete='false'>
						                    <field name="name" attrs="{'readonly':[('exit_id','!=',False)]}" string="Nội dung"/>
		       								<field name="exit_id" invisible='1' on_change="onchange_exit_id(exit_id)"/>
						 					<field name="money_included_in_the_settlement"  string="Số tiền đưa vào quyết toán(nếu có)"
						 					options='{"validate_number": "1"}' required='1'  widget="number_separator"/>
						 					<field name="withdraw_date" string="Ngày bàn giao"/>
						 					<field name="note" string="Ghi chú của người phê duyệt"/>
						 					<field name="type_exit" invisible='1' />
						                </tree>
		       						</field>
		       					</group>
       						</page>
       						<page string="Lịch sử thay đổi" groups="vhr_base.hrs_group_system,vhr_human_resource.vhr_cb_termination">
			       				<label string="*** Please press F5 to refresh the list of logs !" colspan="4"/>
		                        <field name="audit_log_ids" mode="tree"
		                               widget="one2many_list" readonly="1" nolabel="1" colspan="4">
		                            <tree version="7.0">
		                                <field name="timestamp" required="1" readonly="1" string="Ngày thay đổi"/>
		                                <field name="user_id" readonly="1" string="Người thay đổi"/>
		                                <field name="method" readonly="1" string="Phương thức thay đổi"/>
		                                <field name="field_description" string="Dữ liệu bị thay đổi"/>
		                                <field name="old_value_text" string="Giá trị cũ"/>
		                                <field name="new_value_text" string="Giá trị mới"/>
		                            </tree>
		                        </field>
	                        </page>
	                        <page string="Lịch sử thay đổi trạng thái" attrs="{'invisible': [('state','=',False)]}">
                                    <field name="state_log_ids" readonly="1">
                                    	<tree string="State change" version="7.0">
						                	<field name="create_date" string="Ngày chuyển trạng thái"/>
						                    <field name="create_uid" invisible='1'/>
						                    <field name="login_create_uid"  string="Người chuyển trạng thái"/>
						                    <field name="old_state" string="Trạng thái cũ"/>
						                    <field name="new_state" string="Trạng thái mới"/>
						                    <field name="comment" string="Ghi chú"/>
						                </tree>
                                    </field>
                            </page>
			       		</notebook>
       				</sheet>
       			</form>
            </field>
        </record>

        <record id="view_vhr_exit_checklist_request_tree" model="ir.ui.view">
            <field name="name">vhr.exit.checklist.request.view.tree</field>
            <field name="model">vhr.exit.checklist.request</field>
            <field name="groups_id" eval=""/>
            <field name="arch" type="xml">
                <tree string="Exit Checklist Request" version="7.0" colors="blue:state not in ('finish','cancel')">
                    <field name="employee_code" string="Mã Nhân Viên"/>
 					<field name="employee_id" string="Tên Nhân Viên"/>
 					<!--<field name="company_id"/>-->
 					<field name="join_date" string="Ngày bắt đầu làm việc"/>
 					<field name="last_working_date" string="Ngày làm việc cuối cùng"/>
 					<field name="waiting_for" string="Những người đang chờ duyệt"/>
 					<field name="state" string="Trạng thái"/>
 					<field name="is_waiting_for_action" invisible='1'/>
                </tree>
            </field>
        </record>

        <record id="view_vhr_exit_checklist_request_search" model="ir.ui.view">
            <field name="name">vhr.exit.checklist.request.view.search</field>
            <field name="model">vhr.exit.checklist.request</field>
            <field name="arch" type="xml">
                <search string="Search">
                    <field name="name" string="Exit Checklist" 
	                  		filter_domain="['|','|','|',('name','ilike',self),('employee_id.name','ilike',self),('employee_id.login','ilike',self),('employee_id.code','ilike',self)]"/>

                    <field name="last_working_date" string="Ngày làm việc cuối cùng"/>
                    <group expand="0" string="Lọc">
                        <filter string="Những yêu cầu trong tháng này" name="current_month" icon="terp-go-month"
                                domain="[('request_date','&lt;',(context_today()+relativedelta(months=1)).strftime('%%Y-%%m-01')), ('request_date','&gt;=',time.strftime('%%Y-%%m-01'))]"/>
                    </group>
                    <group expand="0" string="Lọc danh sách chờ duyệt">
        				<filter string="Những yêu cầu đang chờ duyệt" name="waiting_for_action" icon="terp-stage"
                            domain="[('is_waiting_for_action', '=', True)]"/>
        				<filter string="Yêu cầu của bản thân" name="your_request" icon="terp-go-month"
                    			domain="[('employee_id.user_id','=',uid)]"/>
                    </group>
                    <group expand="0" string="Trạng thái">
                        <filter string="Requester" name="state_draft" icon="STOCK_NEW"
                                domain="[('state', '=', 'draft')]"/>
                        <filter string="Waiting Department" name="state_department" icon="STOCK_NEW"
                                domain="[('state', '=', 'department')]"/>
                        <filter string="Finish" name="state_finish" icon="STOCK_NEW"
                                domain="[('state', '=', 'finish')]"/>
                        <filter string="Cancel" name="state_cancel" icon="STOCK_NEW"
                                domain="[('state', '=', 'cancel')]"/>
                    </group>
                </search>
            </field>
        </record>

        <record model="ir.actions.act_window" id="act_vhr_exit_checklist_request">
            <field name="name">Exit Checklist Request</field>
            <field name="res_model">vhr.exit.checklist.request</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="view_id" ref="view_vhr_exit_checklist_request_tree"/>
            <field name="groups_id" eval=""/>
            <field name="context">{'rule_for_tree_form': True,'duplicate':False,'search_default_waiting_for_action':True,
            				     	'filter_by_permission_exit_checklist':1,'search_default_your_request':True}</field>
            <field name="search_view_id" ref="view_vhr_exit_checklist_request_search"/>
        </record>
        
        
        <record id="action_vhr_exit_checklist_request_print_report" model="ir.actions.server">
            <field name="name">Print Exit Checklist</field>
            <field name="model_id" ref="model_vhr_exit_checklist_request"/>
            <field name="state">code</field>
            <field name="code">action = self.action_print(cr, uid, context.get('active_ids', []), context={'service_name':'Check List'})</field>
        </record>
        
        <record model="ir.values" id="action_vhr_exit_checklist_request_print_report_act">
            <field name="key2">client_print_multi</field>
            <field name="model">vhr.exit.checklist.request</field>
            <field name="name">Print Exit Checklist</field>
            <field name="value" eval="'ir.actions.server,%d'%action_vhr_exit_checklist_request_print_report"/>
            <field name="object" eval="True"/>
        </record>
        
        <!--<record id="action_refresh_vhr_exit_checklist_request_action" model="ir.actions.server">
            <field name="name">Refresh</field>
            <field name="model_id" ref="model_vhr_exit_checklist_request"/>
            <field name="state">code</field>
            <field name="code">action = self.update_property_management(cr, uid, context.get('active_ids', []), context=context)</field>
        </record>
        
        <record model="ir.values" id="action_refresh_vhr_exit_checklist_request">
            <field name="key2">client_action_multi</field>
            <field name="model">vhr.exit.checklist.request</field>
            <field name="name">Refresh</field>
            <field name="value" eval="'ir.actions.server,%d'%action_refresh_vhr_exit_checklist_request_action"/>
            <field name="object" eval="True"/>
        </record>-->
        
        <!--<record model="ir.actions.act_window" id="act_vhr_get_data_from_itam_status">
       		<field name="name">Get Data From ITAM Progress</field> 
            <field name="res_model">vhr.mass.status</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="domain">[('model_id.model','=','vhr.property.management')]</field>
            <field name="view_id" ref="vhr_common.view_vhr_mass_status_tree"/>
            <field name="search_view_id" ref="vhr_common.view_vhr_mass_status_search"/>
       	</record>-->
        
    </data>
</openerp>