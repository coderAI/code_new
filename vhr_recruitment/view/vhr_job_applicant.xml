<?xml version="1.0" encoding="utf-8"?>
<openerp>
	<data noupdate='0'>

        <record id="view_vhr_job_applicant_close_form" model="ir.ui.view">
            <field name="name">vhr.job.applicant.view.close.form</field>
            <field name="model">vhr.job.applicant</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <form string="Note" version="7.0">
                	<label for="reason_cancel_type_id" string="Reason type:" colspan="4" invisible="0 if context.get('ACTION','')=='trans_offer_close' else 1"/>
                	<field name="reason_cancel_type_id" colspan="4" invisible="0 if context.get('ACTION','')=='trans_offer_close' else 1"
                		required="1 if context.get('ACTION','')=='trans_offer_close' else 0"
                		options="{'no_quick_create' : True, 'no_create':True, 'no_open': True}"
                		on_change="onchange_job_reason_cancel_type_id(reason_cancel_type_id)"/>
                	<label string="Reason:" for="reason_cancel_id" colspan="4" invisible="0 if context.get('ACTION','')=='trans_offer_close' else 1"/>
                	<field name="reason_cancel_ids" widget="many2many_tags" colspan="4" invisible="0 if context.get('ACTION','')=='trans_offer_close' else 1"
                		required="1 if context.get('ACTION','')=='trans_offer_close' else 0"
                		options="{'no_quick_create' : True, 'no_create':True, 'no_open': True}"/>
                    <separator string="Note" colspan="4"/>
                    <footer>
                        <button one_click_button="True" name="execute_workflow"
                                string="Submit"
                                type="object" icon="gtk-save"
                                class="oe_highlight"  context="{'ACTION_COMMENT': action_comment}"/>
                        or
                        <button string="Cancel" class="oe_link" special="cancel"/>
                    </footer>
                </form>
            </field>
        </record>

        <record id="view_vhr_job_applicant_send_cv" model="ir.ui.view">
            <field name="name">vhr.job.applicant.view.send.cv.form</field>
            <field name="model">vhr.job.applicant</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <form string="Note" version="7.0">
                	<label for="emp_receive_cvs" string="Send CV To :" colspan="4"/>
                	<field name="emp_receive_cvs" widget="many2many_tags" required="1" options="{'no_quick_create' : True, 'no_create':True, 'no_open': True}"/>
                	<label for="emp_cc_cvs" string="CC To :" colspan="4"/>
                	<field name="emp_cc_cvs" widget="many2many_tags" options="{'no_quick_create' : True, 'no_create':True, 'no_open': True}"/>
                    <separator string="Note" colspan="4"/>
                    <footer>
                        <button one_click_button="True" name="execute_workflow"
                                string="Submit"
                                type="object" icon="gtk-save"
                                class="oe_highlight"  context="{'ACTION_COMMENT': action_comment}"/>
                        or
                        <button string="Cancel" class="oe_link" special="cancel"/>
                    </footer>
                </form>
            </field>
        </record>

        <record id="view_vhr_job_applicant_form" model="ir.ui.view">
            <field name="name">vhr.job.applicant.view.form</field>
            <field name="model">vhr.job.applicant</field>
            <field name="arch" type="xml">
                <form string="Candidate’s Interview" version="7.0" create="0">
                    <header>
	                    <field name="state" widget="statusbar"
	                    statusbar_visible="draft,confirm,interview,offer,done,close"
	                    nolabel="1" />
	                </header>
                    <sheet>

                   			   <button class="oe_stat_button bg_icon_blue oe_right" name="action_print_report" style="width:40px !important"
                   			   				   code_execute="PRINT_REPORT"
                        	   				   groups='vhr_recruitment.vhr_recruiter'
                        	   				   save_no_required='True'  special="nosave"
                                               icon="fa-print" type="object"/>

                        	   <button class="oe_stat_button bg_icon_red oe_right" string="Close" name="action_open_window_ex" style="width:110px !important"
                        	   				   groups='vhr_recruitment.vhr_recruiter'
                        	   				   save_no_required='True'
                                               states="draft" icon="fa-times" type="object"
                                               context="{'VIEW_ID':'vhr_recruitment.view_vhr_job_applicant_close_form', 'ACTION_TYPE':'CLOSE',
                                            		     'VIEW_NAME':'Close','ACTION':'trans_draft_close', 'required_comment': True}" />

		                       <button class="oe_stat_button bg_icon_green oe_right" string="Interview" style="width:110px !important"
		                       				   groups='vhr_recruitment.vhr_recruiter'
		                       				   name="execute_workflow" type="object"
		                       				   context="{'ACTION':'trans_draft_interview'}"
                                               states="draft" icon="fa-mail-forward"/>

                              <!--<button class="oe_stat_button bg_icon_green oe_right" string="Send CV" style="width:110px !important"
                               				   groups='vhr_recruitment.vhr_recruiter'
                               				   name="action_open_window_ex" type="object"
                               				   context="{'VIEW_ID':'vhr_recruitment.view_vhr_job_applicant_send_cv', 'ACTION_TYPE':'SEND_CV',
                                            		     'VIEW_NAME':'Send CV','ACTION':'trans_draft_confirm'}"
		                                       states="draft" icon="fa-mail-forward"/>  -->

                               <button class="oe_stat_button bg_icon_red oe_right" string="Close" name="action_open_window_ex" style="width:110px !important"
                                               save_no_required='True'
                              				   states="confirm" icon="fa-times" type="object"
                                               context="{'VIEW_ID':'vhr_recruitment.view_vhr_job_applicant_close_form', 'ACTION_TYPE':'CLOSE',
                                            		     'VIEW_NAME':'Close','ACTION':'trans_confirm_close', 'required_comment': True}" />
                               <button class="oe_stat_button bg_icon_green oe_right" string="Submit" style="width:110px !important"
                               					states="confirm" icon="fa-mail-forward" type="object"
                               					name="execute_workflow"
                               					context="{'ACTION':'trans_confirm_interview'}"
                                                />

                               <button class="oe_stat_button bg_icon_red oe_right" string="Close" name="action_open_window_ex" style="width:110px !important"
                               				   save_no_required='True'
                               				   groups='vhr_recruitment.vhr_recruiter'
                                               states="interview" icon="fa-times" type="object"
                                               context="{'VIEW_ID':'vhr_recruitment.view_vhr_job_applicant_close_form', 'ACTION_TYPE':'CLOSE',
                                            		     'VIEW_NAME':'Close','ACTION':'trans_interview_close', 'required_comment': True}"/>
							   <!-- offer -->
							   <button class="oe_stat_button bg_icon_red oe_right" string="Cancel offer" name="action_open_window_ex" style="width:130px !important"
							   				   code_execute="CANCEL_OFFER"
							   				   save_no_required='True'
							   				   groups='vhr_recruitment.vhr_recruiter'
							   				   attrs="{'invisible' : ['|',('state','!=','offer'),('is_offer_edit', '=', True)]}"
                                               icon="fa-times" type="object"
                                               context="{'VIEW_ID':'vhr_recruitment.view_vhr_job_applicant_close_form', 'ACTION_TYPE':'CLOSE',
                                            		     'VIEW_NAME':'Close','ACTION':'trans_offer_close', 'required_comment': True}"/>

                               <button one_click_button="True" class="oe_stat_button bg_icon_green oe_right" name="transfer_candidate_to_employee_remind" style="width:160px !important"
                               				code_execute="TRANSFER_CANDB"
                               				groups='vhr_recruitment.vhr_recruiter' string="Transfer C&amp;B"
                               				attrs="{'invisible' : ['|','|',('state','!=','offer'),'&amp;',('none_official','=',True),('no_depthead_approval','=',False),('hr_process','=',True)]}"
                                    		type="object"  icon="fa-level-up"></button>

                               <button one_click_button="True" class="oe_stat_button bg_icon_green oe_right" name="update_candidate_to_employee" style="width:160px !important"
                               				code_execute="UPDATE_CANDB"
                               				groups='vhr_recruitment.vhr_recruiter' string="Update C&amp;B"
                               				attrs="{'invisible' : ['|','|','|',('state','!=','offer'),('is_offer_edit', '=', True),'&amp;',('none_official','=',True),('no_depthead_approval','=',False),('hr_process','=',False)]}"
                                    		type="object"  icon="fa-level-up"></button>

                               <button class="oe_stat_button bg_icon_orange oe_right" string="Print Offer" name="action_print_offer_report" style="width:130px !important"
							   				   save_no_required='True'
							   				   groups='vhr_recruitment.vhr_recruiter'
                                               icon="fa-print" type="object" attrs="{'invisible': ['|',('is_contract_definite','=', True),('state', '!=', 'offer')]}"/>
                                               
                                 <button class="oe_stat_button bg_icon_orange oe_right" string="Print Offer" name="action_print_offer_contract_definite_report" style="width:130px !important"
							   				   save_no_required='True'
							   				   groups='vhr_recruitment.vhr_recruiter'
                                               icon="fa-print" type="object" attrs="{'invisible':  ['|',('is_contract_definite','=',False),('state', '!=', 'offer')]}"/>
                                               

                               <!-- <button class="oe_stat_button bg_icon_green oe_right" icon="fa-book"
                               			save_no_required='True'
				                        name="action_get_attachment_tree_view" type="object" special="nosave"
				                        attrs="{'invisible':  ['|',('documents_count','=', 0),('state','in',['draft'])]}">
				                        <field name="documents_count" widget="statinfo" string="Documents"/>
				               </button> -->

				               <button class="oe_stat_button bg_icon_red oe_right" string="Close" name="action_open_window_ex"
				               		   save_no_required='True'
                       				   groups='vhr_recruitment.vhr_recruitment_admin'
                       				   icon="fa-times" type="object"
                                       attrs="{'invisible': [('state','!=','done')]}"
                                       context="{'VIEW_ID':'vhr_recruitment.view_vhr_job_applicant_close_form', 'ACTION_TYPE':'CLOSE',
                                            		     'VIEW_NAME':'Close','ACTION':'trans_done_close', 'required_comment': True}"/>

				               <button class="oe_stat_button bg_icon_orange oe_right" string="Re open" name="action_open_window_ex"
				               		   code_execute="RE_OPEN"
                       				   save_no_required='True'
                       				   groups='vhr_recruitment.vhr_recruiter'
                       				   type="object" icon="fa-mail-reply"
                                       attrs="{'invisible':  ['|',('job_state','!=', 'in_progress'),('state','!=','close')]}"
                                       context="{'VIEW_ID':'vhr_recruitment.view_vhr_job_applicant_close_form', 'ACTION_TYPE':'REOPEN',
                                    		     'VIEW_NAME':'Reason for reopen', 'required_comment': True}"/>

                              <button class="oe_stat_button bg_icon_orange oe_right" string="Send Email" name="action_send_email_invitation"
                       				   groups='vhr_recruitment.vhr_recruiter'
                       				   type="object" icon="fa-paper-plane-o"
                                       attrs="{'invisible':  ['|', ('state','!=','interview'),
                                       						  ('current_row', 'not in', ('round1', 'round2'))]}"/>

                              <button class="oe_stat_button bg_icon_orange oe_right" string="Send Email" name="action_send_email_thankyou"
                       				   groups='vhr_recruitment.vhr_recruiter'
                       				   type="object" icon="fa-paper-plane-o"
                                       attrs="{'invisible':  [('state','!=','close')]}"/>
                        <newline/>
		                <group string="Request - Candidate">
		                    <group>
		                        <field name="job_id"  required='1' readonly="1"
                                       domain="[('state', '=', 'in_progress')]"
                                       options="{'no_quick_create' : True, 'no_create':True, 'no_open': True}"/>
		                         <field name="requestor_id" options="{'no_quick_create' : True, 'no_create':True, 'no_open': True}"/>
                                 <field name="requestor_dept" options="{'no_open': True}"/>
                                 <field name="handle_by" options="{'no_quick_create' : True, 'no_create':True, 'no_open': True}"/>
                                 <field name="none_official" readonly="1"/>
                                 <field name="no_depthead_approval" readonly="1"/>
                                 <field name="is_contract_definite" invisible="1"/>
		                    </group>
		                    <group>
		                         <field name="applicant_id" string="Candidate Name" on_change="onchange_applicant(applicant_id)"
                                        readonly="1" context="{'match_cv': 1, 'target': 'new', 'initial_mode': 'view', 'FROM_VIEW': 'CAND_INTERVIEW' }" required='1'/>
                                 <field name="report_to" string="Candidate report to" options="{'no_quick_create' : True, 'no_create':True, 'no_open': True}"/>
                                 <field name="department_id" string="Request for department" options="{'no_open': True}"/>
                                 <field name="emp_receive_cvs" widget="many2many_tags" readonly="1" attrs="{'invisible':[('state','=', 'draft')]}"/>
                                 <field name="reason_cancel_ids" widget="many2many_tags" attrs="{'invisible':[('reason_cancel_ids','=', False)]}" readonly="1"/>
                                 <field name="current_row" invisible="1"/>
                                 <field name="company_currency_id" invisible="1"/>
                                 <field name="job_state" invisible="1"/>
                                 <field name="hr_process" invisible="1"/>
                                 <field name="department_dept" invisible="1"/>
                                 <field name="reason_cancel_id" invisible="1"/>
                                 <field name="share_handle_by" invisible="1"/>
                                 <field name="is_offer_edit" invisible="1"/>
                                 <field name="is_reporter" invisible="1"/>
                                 <field name="is_depthead" invisible="1"/>
                                 <field name="is_official" invisible='1' option="{'save_readonly':1}"/>
	                         </group>
		                </group>
                        <notebook colspan="4">
                            <page string="General information">
                                <group>
                                	<group string="Request Information">
                                    	<field name="gender" required='1'/>
				                        <field name="job_type_id" options="{'no_open': True}"/>
				                        <field name="degree_id" options="{'no_open': True}"/>
				                        <field name="office_id" options="{'no_open': True}"/>
				                        <field name="reason_id" options="{'no_open': True}"/>
				                        <field name="job_title_id" options="{'no_open': True}"/>
				                        <field name="job_level_id" options="{'no_open': True}" invisible="1"/>
				                        <field name="job_level_position_id" options="{'no_open': True}"/>
				                        <field name="categ_ids_job"  widget="many2many_tags"/>
				                        <field name="position_class_standard" invisible="1"/>
				                        <!--<field name="position_class_standard_ex"  widget="many2many_tags"/>-->
				                        <field name="business_impact_id" readonly="1"
				                        	options="{'no_quick_create': True, 'no_create': True, 'no_open': True,}"/>
                                    </group>
                                    <group string="Candidate Information">
				                         <field name="gender_app"/>
				                         <field name="birthday_app"/>
		                                 <field name="job_type_id_app" options="{'no_open': True}"/>
		                                 <field name="source_id_app" options="{'no_open': True}"/>
		                                 <field name="office_id_app" options="{'no_open': True}"/>
		                                 <field name="willing_location_app" />
		                                 <field name="title_ids_app" widget="many2many_tags"/>
		                                 <field name="categ_ids_app" widget="many2many_tags"/>

                                    </group>
                                </group>
                            </page>
							<page string="Round 1" attrs="{'invisible':  ['|',('state','in', ['draft','confirm']),('current_row','not in',['round1','round2','round3'])]}">
								<group string="Booking Details">
									<group>
										<field name="dept_interviewer1" string="Department Interviewer*" widget="many2many_tags"
											attrs="{'required':  [('state','=', 'interview')], 'readonly' :['|',('state','!=','interview'),
												('current_row','in',['round2','round3'])]}"
												options="{'no_quick_create' : True, 'no_create':True, 'no_open': True, 'save_no_required': True}"
												/>
										<field name="rr_interviewer1" string="RR Interviewer*" widget="many2many_tags"
											attrs="{'required':  [('state','=', 'interview')], 'readonly' :['|',('state','!=','interview'),
											('current_row','in',['round2','round3'])]}"
											options="{'no_quick_create' : True, 'no_create':True, 'no_open': True, 'save_no_required': True}"/>
										<field name="involved_persons1" string="Involved Interviewer" widget="many2many_tags"
											attrs="{'readonly' :['|',('state','!=','interview'),('current_row','in',['round2','round3'])]}"
											options="{'no_quick_create' : True, 'no_create':True, 'no_open': True, 'save_no_required': True}"/>
									</group>
									<group>
										<field name="reporter1" class="oe_inline" string="Reporter*" attrs="{'required': [('state','=', 'interview')],
											'readonly' :['|',('state','!=','interview'),('current_row','in',['round2','round3'])]}"
											options="{'no_quick_create' : True, 'no_create':True, 'no_open': True,'save_no_required': True}"/>
										<field name="start_time_round1" string="Start time"  class="oe_inline" widget="time" options="{'step':'30','save_no_required': True}"
											attrs="{'required': [('state','=', 'interview')], 'readonly' :['|',('state','!=','interview'),('current_row','in',['round2','round3'])]}"
											on_change="onchange_date(current_row, start_time_round1, end_time_round1)"/>
										<field name="end_time_round1"  string="End time" class="oe_inline" widget="time" options="{'step':'30'}"
											attrs="{'readonly' :['|',('state','!=','interview'),('current_row','in',['round2','round3'])]}"
											on_change="onchange_date(current_row, start_time_round1, end_time_round1, 'change_end')"/>
										<field name="room_id1" string="Room" class="oe_inline"
											options="{'no_quick_create' : True, 'no_create':True, 'no_open': True}"
											attrs="{'readonly' :['|',('state','!=','interview'),('current_row','in',['round2','round3'])]}"/>
									</group>
								</group>
								<group string="Evaluation Details">
									<field name="evaluation_details1"  nolabel="1" context="{'decision_id1':decision_id1}"
										attrs="{'readonly' :['|',('current_row','in',['round2','round3']),('is_reporter','=', False)]}">
										<tree string="Interview results" version="7.0" delete="0" create="0" editable='True' class="hrs_table_header">
						                    <field name="evaluation_id" readonly="1"/>
						                    <field name="note" string="Note(*)"/>
						                </tree>
									</field>
								</group>
								<group string="Decision Information">
									<group>
										<field name="decision_id1" class="hrs_color_warning_lb"
											options="{'no_quick_create' : True, 'no_create':True, 'no_open': True}"
											attrs="{'readonly' :['|','|',('is_reporter','=', False),('current_row','in',['round2','round3']),
																		('keep_in_view_1','=',True)]}"/>
										<field name="is_pass" invisible="1"/>
                                    </group>
                                    <group>
                                    	<field name="keep_in_view_1" string="Keep in view" class="hrs_color_warning_lb"
                                    		on_change="onchange_keep_in_view(keep_in_view_1,current_row)"
                                    		attrs="{'readonly' :['|',('is_reporter','=', False),('current_row','in',['round2','round3'])]}"/>
                                   	</group>
								</group>
							</page>
							<page string="Round 2" attrs="{'invisible':  [('current_row','not in', ['round2','round3'])]}">
								<group string="Booking Details">
									<group>
										<field name="dept_interviewer2" string="Department Interviewer*" widget="many2many_tags"
											attrs="{'required':  ['&amp;',('state','=', 'interview'),('current_row','=','round2')],
													'readonly' :['|',('state','!=','interview'),('current_row','=','round3')]}"
											options="{'no_quick_create' : True, 'no_create':True, 'no_open': True}"/>

										<field name="rr_interviewer2" string="RR Interviewer*" widget="many2many_tags"
											attrs="{'required':  ['&amp;',('state','=', 'interview'),('current_row','=','round2')],
													'readonly' :['|',('state','!=','interview'),('current_row','=','round3')]}"
											options="{'no_quick_create' : True, 'no_create':True, 'no_open': True}"/>
										<field name="involved_persons2" string="Involved Interviewer" widget="many2many_tags"
											attrs="{'readonly' :['|',('state','!=','interview'),('current_row','=','round3')]}"
											options="{'no_quick_create' : True, 'no_create':True, 'no_open': True}"/>
									</group>
									<group>
										<field name="reporter2" class="oe_inline"  string="Reporter*"
											attrs="{'required':  ['&amp;',('state','=', 'interview'),('current_row','=','round2')],
													'readonly' :['|',('state','!=','interview'),('current_row','=','round3')]}"
											options="{'no_quick_create' : True, 'no_create':True, 'no_open': True,'save_no_required': True}"/>
										<field name="start_time_round2" string="Start time" class="oe_inline" widget="time" options="{'step':'30','save_no_required': True}"
											attrs="{'required':  ['&amp;',('state','=', 'interview'),('current_row','=','round2')],
												 	'readonly' :['|',('state','!=','interview'),('current_row','=','round3')]}"
											on_change="onchange_date(current_row, start_time_round2, end_time_round2)"/>
										<field name="end_time_round2"  string="End time" class="oe_inline" widget="time" options="{'step':'30'}"
											attrs="{'readonly' :['|',('state','!=','interview'),('current_row','=','round3')]}"
											on_change="onchange_date(current_row, start_time_round2, end_time_round2, 'change_end')"/>
										<field name="room_id2" string="Room" class="oe_inline"
											options="{'no_quick_create' : True, 'no_create':True, 'no_open': True}"
											attrs="{'readonly' :['|',('state','!=','interview'),('current_row','=','round3')]}"/>
									</group>
								</group>
								<group string="Evaluation Details">
									<field name="evaluation_details2"  attrs="{'readonly' :['|',('current_row','=','round3'),('is_reporter','=', False)]}" nolabel="1">
										<tree string="Interview results" version="7.0" delete="0" create="0" editable='True' class="hrs_table_header">
						                    <field name="evaluation_id" readonly="1"/>
						                    <field name="note"  string="Note(*)"/>
						                </tree>
									</field>
								</group>
								<group string="Decision Information">
									<group>
										<field name="decision_id2" class="hrs_color_warning_lb"
											options="{'no_quick_create' : True, 'no_create':True, 'no_open': True}"
											attrs="{'readonly' :['|','|',('is_reporter','=', False),('current_row','=','round3'),('keep_in_view_2','=',True)]}"/>

									</group>
									<group>
										<field name="keep_in_view_2" string="Keep in view" class="hrs_color_warning_lb"
											on_change="onchange_keep_in_view(keep_in_view_2,current_row)"
											attrs="{'readonly' :['|',('is_reporter','=', False),('current_row','=', 'round3')]}"/>
									</group>
								</group>
							</page>
							<page string="Round 3"  attrs="{'invisible':  [('current_row','not in', ['round3'])]}">
								<group string="Booking Details">
									<group>
										<field name="dept_interviewer3" string="Department Interviewer*" widget="many2many_tags"
											attrs="{'readonly' :[('state','!=','interview')], 'required':  ['&amp;',('state','=', 'interview'),('current_row','=','round3')]}"
											options="{'no_quick_create' : True, 'no_create':True, 'no_open': True}"/>
										<field name="rr_interviewer3" string="RR Interviewer*" widget="many2many_tags"
											attrs="{'readonly' :[('state','!=','interview')], 'required':  ['&amp;',('state','=', 'interview'),('current_row','=','round3')]}"
											options="{'no_quick_create' : True, 'no_create':True, 'no_open': True}"/>
										<field name="involved_persons3" string="Involved Interviewer" widget="many2many_tags"  attrs="{'readonly' :[('state','!=','interview')]}"
											options="{'no_quick_create' : True, 'no_create':True, 'no_open': True}"/>
									</group>
									<group>
										<field name="reporter3"  class="oe_inline"   string="Reporter*" attrs="{'readonly' :[('state','!=','interview')],
											'required':  ['&amp;',('state','=', 'interview'),('current_row','=','round3')]}"
											options="{'no_quick_create' : True, 'no_create':True, 'no_open': True,'save_no_required': True}"/>

										<field name="start_time_round3" string="Start time" class="oe_inline" widget="time" options="{'step':'30','save_no_required': True}"
											attrs="{'readonly': [('state','!=','interview')], 'required': ['&amp;',('state','=', 'interview'),('current_row','=','round3')]}"
											on_change="onchange_date(current_row, start_time_round3, end_time_round3)"/>
										<field name="end_time_round3"  string="End time" class="oe_inline" widget="time" options="{'step':'30'}"
											attrs="{'readonly' :[('state','!=','interview')]}"
											on_change="onchange_date(current_row, start_time_round3, end_time_round3, 'change_end')"/>
										<field name="room_id3" string="Room" class="oe_inline"
											options="{'no_quick_create' : True, 'no_create':True, 'no_open': True}"
											attrs="{'readonly' :[('state','!=','interview')]}"/>
									</group>
								</group>
								<group string="Evaluation Details">
									<field name="evaluation_details3"  attrs="{'readonly' :[('state','!=','interview')]}"  nolabel="1">
										<tree string="Interview results" version="7.0" delete="0" create="0" editable='True' class="hrs_table_header">
						                    <field name="evaluation_id" readonly="1"/>
						                    <field name="note" string="Note(*)"/>
						                </tree>
									</field>
								</group>
								<group string="Decision Information">
									<group>
										<field name="decision_id3" class="hrs_color_warning_lb"
											attrs="{'readonly' :['|',('is_reporter','=', False),('keep_in_view_3','=',True)]}"
	                                        domain="[('active', '=', True),('code', '!=', 'NEXT'), ('dimension_type_id.code', '=', 'DECISION_STATUS')]"
	                                        options="{'no_quick_create' : True, 'no_create':True, 'no_open': True}"/>
                                    </group>
                                    <group>
                                    	<field name="keep_in_view_3" string="Keep in view" class="hrs_color_warning_lb"
                                    		on_change="onchange_keep_in_view(keep_in_view_3,current_row)"
                                    		attrs="{'readonly' :['|',('is_reporter','=', False),('state','!=', 'interview')]}"/>
                                   	</group>
								</group>
							</page>
							<!-- Đổi cái name chỗ này nhớ đổi trong field_view_get luôn nha đại ka-->
                            <page string="Offer &amp; Recommend" groups="vhr_human_resource.vhr_cb,vhr_recruitment.vhr_recruitment_manager,vhr_recruitment.vhr_recruitment_admin"
                            	name="Offer" attrs="{'invisible':  ['|',('state','in', ['draft','confirm','interview']),('is_pass','!=',True)]}">
                            	<separator string="General Information"/>
                            	<group>
                            		<group>
                            			<field name="offer_report_to" string="Report To *"
                                    		options="{'no_quick_create' : True, 'no_create':True, 'no_open': True}"
                                    		attrs="{'required':  [('state','in', ['offer'])], 'readonly' :['|',('state','not in',['offer']),('is_offer_edit','=', True)]}"/>
                                    	<field name="offer_mentor" string="Mentor *"
                                    		options="{'no_quick_create' : True, 'no_create':True, 'no_open': True}"
                                    		attrs="{'required':  [('state','in', ['offer'])], 'readonly' :['|',('state','not in',['offer']),('is_offer_edit','=', True)]}"/>
                                    	<field name="offer_department" string="Department *"
                            				options="{'no_quick_create' : True, 'no_create':True, 'no_open': True}"
                                    		attrs="{'required':  [('state','in', ['offer'])], 'readonly' :['|',('state','not in',['offer']),('is_offer_edit','=', True)]}"/>
                                    	<field name="offer_team_id" string="Team"
                            				options="{'no_quick_create' : True, 'no_create':True, 'no_open': True}"
                                    		attrs="{'readonly' :['|',('state','not in',['offer']),('is_offer_edit','=', True)]}"/>
                            		</group>
                            		<group>
                            			<field name="offer_job_type" string="Job Type *"
                            				options="{'no_quick_create' : True, 'no_create':True, 'no_open': True}"
                                    		attrs="{'required':  [('state','in', ['offer'])], 'readonly' :['|',('state','not in',['offer']),('is_offer_edit','=', True)]}"/>
                                    	<field name="offer_office_id" string="Working Place *"
                                    		options="{'no_quick_create' : True, 'no_create':True, 'no_open': True}"
                                    		attrs="{'required':  [('state','in', ['offer'])], 'readonly' :['|',('state','not in',['offer']),('is_offer_edit','=', True)]}"/>
                                    	<field name="offer_com_group_id" string="Group company *"
                                    		options="{'no_quick_create' : True, 'no_create':True, 'no_open': True}"
                                    		attrs="{'required':  [('state','in', ['offer'])], 'readonly' :['|',('state','not in',['offer']),('is_offer_edit','=', True)]}"
                                    		on_change="onchange_com_group_id(offer_com_group_id)"/>
                                    	<field name="offer_company_id" string="Working For"
                                    		options="{'no_quick_create' : True, 'no_create':True, 'no_open': True}"
                                    		attrs="{'readonly' :['|',('state','not in',['offer']),('is_offer_edit','=', True)]}"/>
                            		</group>
                            	</group>
                                <group string="Offer Information">
                                    <group>
                                    	<field name="offer_date" string="Offer date*"
                                    		attrs="{'required':  [('state','in', ['offer'])], 'readonly' :['|',('state','not in',['offer']),('is_offer_edit','=', True)]}"/>
                                    	<field name="offer_job_title_id" string="Title Offer*"
                                    		options="{'no_quick_create' : True, 'no_create':True, 'no_open': True}"
	                                    	attrs="{'required':  [('state','in', ['offer'])], 'readonly' :['|',('state','not in',['offer']),('is_offer_edit','=', True)]}"
	                          				/>
                                    	<field name="offer_job_level_id" string="Level Offer"
                                    		options="{'no_quick_create' : True, 'no_create':True, 'no_open': True}"
                                    		attrs="{'required': False, 'invisible': True,'readonly' :['|',('state','not in',['offer']),('is_offer_edit','=', True)]}"
                                    		/>



	                                    <field name="offer_career_track_id" string="Career Track Offer*"
	                                    		options="{'save_no_required': True, 'no_quick_create' : True, 'no_create':True, 'no_open': True,'save_readonly':True}"
	                                        	attrs="{'required':  [('is_official','=',True),'!','|',('state','not in',['offer']),('is_offer_edit','=', True)],
	                                    				'readonly' :['|','|',('state','not in',['offer']),('is_offer_edit','=', True),('is_official','=', False)],
	                                    				'invisible' :['|',('state','not in',['offer','done']),('is_official','=', False)]}"

	                                            />

	                                    <field name="offer_job_family_id" string="Job Family Offer*"
	                                            on_change="onchange_job_family_id(offer_job_family_id,offer_job_group_id,context)"
	                                        	options="{'save_no_required': True, 'no_quick_create' : True, 'no_create':True, 'no_open': True}"
	                                        	attrs="{'required':  [('state','in', ['offer'])], 'readonly' :['|',('state','not in',['offer']),('is_offer_edit','=', True)]}"
	                                        />

	                                    <field name="offer_job_group_id" string="Job Group Offer*"
	                                    		on_change="onchange_job_group_id(offer_job_group_id,offer_sub_group_id)"
	                                            context="{'filter_by_job_family_id' : offer_job_family_id}"
	                                        	options="{'save_no_required': True, 'no_quick_create' : True, 'no_create':True, 'no_open': True}"
	                                        	attrs="{'required':  [('state','in', ['offer'])], 'readonly' :['|',('state','not in',['offer']),('is_offer_edit','=', True)]}"
	                                        />

	                                    <field name="offer_sub_group_id" string="Sub Group Offer*"
	                                    		context="{'filter_by_job_group_id' : offer_job_group_id}" 
	                                    		options="{'save_no_required': True, 'no_quick_create' : True, 'no_create':True, 'no_open': True}"
	                                            attrs="{'required':  [('state','in', ['offer'])],'readonly' :['|',('state','not in',['offer']),('is_offer_edit','=', True)]}"
	                                            />

                                        <field name="offer_job_level_position_id" string="Person Level Offer*"
                                    		options="{'no_quick_create' : True, 'no_create':True, 'no_open': True,'save_readonly':True}"
                                    		attrs="{'required':  [('is_official','=',True),'!','|',('state','not in',['offer']),('is_offer_edit','=', True)],
                                                    'invisible' :['|','|',('state','not in',['offer','done']),('is_offer_edit','=', True),('is_official','=', False)],
                                    				'readonly' :['|',('state','not in',['offer']),('is_official','=', False)]}"
                                    	/>



                                    </group>
                                    <group>
                                    	<field name="contract_type_id"  string="Probationary type*"
                                    		options="{'no_quick_create' : True, 'no_create':True, 'no_open': True}"
                                    		attrs="{'required':  [('state','in', ['offer'])],
                                    				'readonly' :['|',('state','not in',['offer']),('is_offer_edit','=', True)]}"
                                    		on_change="onchange_contract_type(contract_type_id)"/>
                                    	<field name="join_date" string="Start date*" options="{'save_no_required': True}"
                                    		attrs="{'required':  [('state','in', ['offer'])], 'readonly' :['|',('state','not in',['offer']),('is_offer_edit','=', True)]}"/>
                                    	<field name="offer_gross_salary" string="Salary (Gross)*" widget="monetary"
                                    		attrs="{'required':  [('state','in', ['offer'])], 'readonly' :['|',('state','not in',['offer']),('is_offer_edit','=', True)]}"
                                    		options="{'currency_field': 'company_currency_id', 'save_no_required': True}"
                                    		on_change="onchange_salary(offer_gross_salary, offer_probation_salary)"/>
                                        <field name="offer_probation_salary" string="Probation Salary*" widget="monetary"
                                        	attrs="{'required':  [('state','in', ['offer']), ('not_probation', '=', False)],
                                        			'readonly' :['|',('state','not in',['offer']),('is_offer_edit','=', True)],
                                        			'invisible': [('not_probation', '=', True)]}"
                                        	options="{'currency_field': 'company_currency_id', 'save_no_required': True}"
                                        	on_change="onchange_salary(offer_gross_salary, offer_probation_salary)"/>
                                       	<field name="not_probation" attrs="{'invisible': 1}"/>
                                        <!--<field name="position_class_apply_ex"  string="Position Class Apply*" class="oe_inline"
                                       		attrs="{'required':  [('state','in', ['offer'])], 'readonly' :['|',('state','not in',['offer']),('is_offer_edit','=', True)]}"
                                       		options="{'no_quick_create' : True, 'no_create':True, 'save_no_required': True, 'no_open': True}"/>-->
                                       	  <field name="cancel_offer_date"  string="Cancel Offer Date" class="oe_inline" />
                                    </group>
                                </group>
                                <group string="Recommend For C&amp;B">
                                	<group>
                                		<field name="ex_employee" options="{'no_quick_create' : True, 'no_create':True, 'no_open': True}"
                                			attrs="{'readonly' :['|',('state','not in',['offer']),('is_offer_edit','=', True)],
                                					'required':['&amp;',('state','=','offer'),('is_create_account','=','no')] }"
                                			on_change="onchange_ex_employee(ex_employee, applicant_id)"/>
                                		<field name="emp_id" context="{'active_test':False,'tree_view_ref':'vhr_human_resource.view_vhr_human_resource_mimimal_employee_tree'}"
                               				options="{'no_quick_create' : True, 'no_create':True, 'no_open': True}"
                            				attrs="{'required': ['&amp;',('ex_employee','=',True),('state','=','offer')],
                     								'readonly' :['|',('state','not in',['offer']),('is_offer_edit','=', True)],'invisible':[('emp_id','=',False),('ex_employee','=',False)]}"/>
                                		<!--<field name="change_form_id"
                                			context = "{'filter_change_form_id_show_in_transfer_rr': True}"
                                			attrs="{'required': [('ex_employee','=',True),('state','=','offer')],
                                					'invisible':[('ex_employee','=',False),('state','=','offer')]}"
                                			options="{'no_quick_create' : True, 'no_create':True, 'no_open': True}"/>-->

                     				    <field name="is_create_account" widget="radio" options="{'save_no_required': True}"
                                			attrs="{'readonly' :['|',('state','not in',['offer']),('is_offer_edit','=', True)], 'required' :[('state','=','offer')]}"/>
                                		<field name="is_asset" widget="radio"  options="{'save_no_required': True}"
                                			attrs="{'readonly' :['|',('state','not in',['offer']),('is_offer_edit','=', True)], 'required' :[('state','=','offer')]}"/>
                                	</group>
                                    <group>
                                        <field name="note_for_asset" options="{'save_no_required': True}" string="Noted for team &amp; special asset"
                                        	attrs="{'readonly' :['|',('state','not in',['offer']),('is_offer_edit','=', True)], 'required' :[('state','=','offer')]}"/>
                                    </group>
                                </group>
                            </page>
                            <page string="Approved Log">
       							<field name="state_log_ids" mode="tree" widget="one2many_list" readonly="1"/>
       						</page>
       						<page string="Logs" groups="vhr_recruitment.vhr_recruitment_admin">
       							<label string="*** Please press F5 to refresh the list of logs !" colspan="4"/>
       							<field name="audit_log_ids" mode="tree"
                       		 		widget="one2many_list" readonly="1">
	       							<tree version="7.0">
	       								<field name="timestamp" required="1" readonly="1"/>
				                        <field name="user_id" readonly="1"/>
				                        <field name="method" readonly="1"/>
				                        <field name="field_description"/>
                            			<field name="old_value_text"/>
                            			<field name="new_value_text"/>
	       							</tree>
	       						</field>
       						</page>
                        </notebook>
                        <hr/>
                        <group string="Additional Information"  style="font-size:14px"
                        	attrs="{'invisible':  ['|',('state','in', ['draft','confirm']),('is_depthead','=',False)]}">
							<group  style="font-size:12px">
								<field name="current_salary" widget="monetary"
									attrs="{'readonly' :[('state','!=','interview')], 'required' :['&amp;',('is_depthead','=',True),('decision_id1','!=',False)]}"
									options="{'save_no_required': True, 'currency_field': 'company_currency_id','show_zero_blank':True}"/>

								<field name="hrs_job_title_id" string="Title Mapping*"
									attrs="{'readonly' :[('state','!=','interview')], 'required' :['&amp;',('is_depthead','=',True),('decision_id1','!=',False)]}"
                                  	options="{'no_quick_create' : True, 'no_create':True, 'no_open': True}"/>
							</group>
							<group style="font-size:12px">
								<field name="expected_salary" attrs="{'readonly' :[('state','!=','interview')], 'required' :['&amp;',('is_depthead','=',True),('decision_id1','!=',False)]}" widget="monetary"
									options="{'save_no_required': True, 'currency_field': 'company_currency_id','show_zero_blank':True}"/>

								<field name="hrs_job_level_id" string="Level Mapping "
									attrs="{'readonly' :[('state','!=','interview')], 'required': False, 'invisible': True}"
                                    options="{'no_quick_create' : True, 'no_create':True, 'no_open': True}"/>

                               <field name="hrs_job_level_position_id" string="Person Level Mapping*"
									attrs="{'readonly' :[('state','!=','interview')],
                                            'invisible':[('job_level_position_id','=',False)],
                                            'required' :['&amp;','&amp;',('is_depthead','=',True),('decision_id1','!=',False),
                               									      	 ('state','=','interview'),('job_level_position_id','!=',False)]}"
                                    options="{'no_quick_create' : True, 'no_create':True, 'no_open': True}"/>
							</group>
						</group>
						<group string="Other Requirements"  attrs="{'invisible':  [('state','in', ['draft','confirm'])]}" style="font-size:14px">
							<group  style="font-size:12px">
								<field name="longterm_commit" attrs="{'readonly' :[('state','!=','interview')]}"/>
							</group>
							<group style="font-size:12px">
								<field name="ability_overtime" attrs="{'readonly' :[('state','!=','interview')]}"/>
							</group>
						</group>
	                </sheet>
                </form>
            </field>
        </record>

        <record id="view_vhr_job_applicant_tree" model="ir.ui.view">
            <field name="name">vhr.job.applicant.view.tree</field>
            <field name="model">vhr.job.applicant</field>
            <field name="arch" type="xml">
                <tree string="Candidate’s Interview" version="7.0"  create="0" >
                    <field name="job_id" string="Job Code"/>
                    <field name="job_level_id" string="Job Level" invisible="1"/>
                    <field name="job_level_position_id" string="Person Level"/>
                    <field name="job_title_id" string="Job Title"/>
                    <field name="office_id" string="Job Office"/>
                    <field name="reason_id"/>
                    <field name="applicant_id" string="Cand Name"/>
                    <field name="gender_app" string="Cand gender"/>
                    <field name="job_type_id_app" string="Cand job type"/>
                    <field name="source_id_app" string="Cand source"/>
	               <field name="office_id_app" string="Cand Office"/>
	               <field name="current_row"/>
	               <field name="is_keep_in_view"/>
	               <field name="state" string="State"/>
	               <field name="is_contract_definite" invisible="1"/>
                </tree>
            </field>
        </record>

		 <record id="view_vhr_job_applicant_search" model="ir.ui.view">
            <field name="name">vhr.job.applicant.view.search</field>
            <field name="model">vhr.job.applicant</field>
            <field name="arch" type="xml">
                <search string="Candidate’s Interview">
                    <field name="job_code" string="Candidate's Interview" filter_domain="['|',('job_id.code','ilike',self),('applicant_id.name','ilike',self)]"/>
                    <separator/>
	                   <group expand="0" string="Group By">
	                   	<filter name="group_by_job_id" string="Job Code"
	                               context="{'group_by':'job_id'}"/>
	                    <filter name="group_by_candidate" string="Candidate"
	                               context="{'group_by':'applicant_id'}"/>
	                    <filter name="group_by_state" string="Status"
	                               context="{'group_by':'state'}"/>
	                   </group>

	                    <group expand="0" string="Filter">
	                       <filter name="filter_draft" string="Matching"
	                               domain="[('state', '=', 'draft')]"/>
	                       <filter name="filter_confirm" string="Confirm"
	                               domain="[('state', '=', 'confirm')]"/>
	                       <filter name="filter_interview" string="Interview"
	                               domain="[('state', '=', 'interview')]"/>
	                       <filter name="filter_offer" string="Offer"
	                               domain="[('state', '=', 'offer')]"/>
	                       <filter name="filter_done" string="Done"
	                               domain="[('state', '=', 'done')]"/>
	                       <filter name="filter_close" string="close"
	                               domain="[('state', '=', 'close')]"/>
	                   </group>

                </search>
            </field>
        </record>

        <record model="ir.actions.act_window" id="action_vhr_job_applicant">
            <field name="name">Candidate’s Interview</field>
            <field name="res_model">vhr.job.applicant</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="context">{'CAND_INTERVIEW':True, 'search_default_filter_draft': 1, 'search_default_filter_confirm': 1, 'search_default_filter_interview': 1, 'search_default_filter_offer': 1}</field>
            <field name="view_id" ref="view_vhr_job_applicant_tree"></field>

        </record>

        <record id="action_view_vhr_job_applicant_tree" model="ir.actions.act_window.view">
            <field name="sequence">1</field>
            <field name="view_id" ref="view_vhr_job_applicant_tree" />
            <field name="act_window_id" ref="action_vhr_job_applicant" />
            <field name="view_mode">tree</field>
        </record>

        <record id="action_view_vhr_job_applicant_form" model="ir.actions.act_window.view">
            <field name="sequence">2</field>
            <field name="view_id" ref="view_vhr_job_applicant_form" />
            <field name="act_window_id" ref="action_vhr_job_applicant" />
            <field name="view_mode">form</field>
        </record>
	</data>
</openerp>
