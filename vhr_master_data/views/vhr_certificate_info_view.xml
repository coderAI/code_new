<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data noupdate='0'>
        <record id="view_vhr_certificate_info_form" model="ir.ui.view">
            <field name="name">vhr.certificate.info.view.form</field>
            <field name="model">vhr.certificate.info</field>
            <field name="groups_id" eval=""/>
            <field name="arch" type="xml">
                <form string="Certificate Info" version="7.0">
       				<sheet>
       					<group col="4" string="Certificate/Degree Info">
       						<group>
       							<field name="certificate_type" required='1' on_change="onchange_certificate_type()"/>	
								<field name="employee_id" invisible="context.get('hide_field', False)"
									options="{'no_quick_create':True, 'no_create':True}"/>
								<field name="applicant_id" invisible="context.get('hide_field', False)"
									options="{'no_quick_create':True, 'no_create':True}"/>
								<field name="school_id" attrs="{'required':[('certificate_type','=','degree')]}"
									options="{'no_quick_create' : True, 'no_create':True, 'no_open': True}"/>
								<field name="recruitment_degree_id" required='1' 
									domain="[('certificate_type','=',certificate_type)]"
									context="{'form_view_ref':'vhr_master_data.view_vhr_recruitment_degree_form','certificate_type':certificate_type}"
								    options="{'no_quick_create' : True, 'no_create':True, 'no_open': True}"/>
								<field name="speciality_id" options="{'no_quick_create' : True, 'no_create':True, 'no_open': True}"/>
								<field name="faculty_id"  options="{'no_quick_create' : True, 'no_create':True, 'no_open': True}"
									context="{'dimension_type': 'FACULTY'}"/>
								<field name="issue_date"/>
								<field name="is_received_hard_copy"/>
								
       						</group>
       						<group>
     							<div>
     								<table border="0" cellpadding="0" cellspacing="0" class="oe_form_group ">
									    <tbody>
											<tr class="oe_form_group_row">
									            <td class="oe_form_group_cell oe_form_group_cell_label" colspan="1" width="1%">
									                <label for="is_main_degree" string="Main degree" />
									            </td>
									            <td class="oe_form_group_cell" colspan="1" width="99%">
									                 <field name="is_main_degree"/>
									            </td>
									        </tr>
									        <tr class="oe_form_group_row">
									            <td class="oe_form_group_cell oe_form_group_cell_label" colspan="1" width="1%">
									                <label for="oversea" string="Oversea" />
									            </td>
									            <td class="oe_form_group_cell" colspan="1" width="99%">
									                <field name="oversea" options="{'no_quick_create' : True, 'no_create':True, 'no_open': True}" />
									            </td>
									        </tr>
									        <tr class="oe_form_group_row">
									            <td class="oe_form_group_cell oe_form_group_cell_label" colspan="1" width="1%">
									                <label for="school_year_from" string="School Year" />
									            </td>
									            <td class="oe_form_group_cell" colspan="1" width="99%">
									                <field name="school_year_from" style="width: 30%"
									                	on_change="onchange_school_year(school_year_from,school_year_to)"/>
									                <field name="school_year_to" style="width: 30%"
									                	on_change="onchange_school_year(school_year_from,school_year_to)"/>
									                <field name="school_year_end" style="width: 40%" />
									            </td>
									        </tr>
									        <tr class="oe_form_group_row">
									            <td class="oe_form_group_cell oe_form_group_cell_label" colspan="1" width="1%">
									                <label for="certificate_rating_id" string="Classification" />
									            </td>
									            <td class="oe_form_group_cell" colspan="1" width="99%">
									                <field name="certificate_rating_id" style="width: 50%" context="{'dimension_type': 'CERTIFICATE_RATING'}" 
									                	options="{'no_quick_create' : True, 'no_create':True, 'no_open': True}" />
									                <field name="gpa" style="width: 40%" placeholder="GPA"/>
									            </td>
									        </tr>
									
									    </tbody>
									</table>
     							</div>	       						  
       						</group>
       					</group>
       				</sheet>
       			</form>
            </field>
        </record>

        <record id="view_vhr_certificate_info_tree" model="ir.ui.view">
            <field name="name">vhr.certificate.info.view.tree</field>
            <field name="model">vhr.certificate.info</field>
            <field name="groups_id" eval=""/>
            <field name="arch" type="xml">
                <tree string="Certificate Info" version="7.0">
                	 <field name="employee_id"/>
      			     <field name="applicant_id"/>
      			     <field name="school_id"/>
      			     <field name="recruitment_degree_id"/>                    
                     <field name="speciality_id"/>
                     <field name="faculty_id"/>
                     <field name="oversea"/>
                     <field name="is_main_degree"/>
                     <field name="is_received_hard_copy"/>
                     <field name="certificate_type"/>
                </tree>
            </field>
        </record>
        
        <record id="view_vhr_certificate_info_search" model="ir.ui.view">
            <field name="name">vhr.certificate.info.view.search</field>
            <field name="model">vhr.certificate.info</field>
            <field name="arch" type="xml">
                <search string="Certificate Info">
                	<group expand="0" string="Group by">
	                    <filter string="University" icon="terp-go-home" domain="[]"
                                context="{'group_by':'school_id'}"/>
	                    <filter string="Degree" icon="terp-go-home" domain="[]"
                                context="{'group_by':'recruitment_degree_id'}"/>
	                    <filter string="Faculty" icon="terp-go-home" domain="[]"
                                context="{'group_by':'faculty_id'}"/>
	                    <filter string="Certificate Type" icon="terp-go-home" domain="[]"
                                context="{'group_by':'certificate_type'}"/>
                    </group>
                   	<group expand="0" string="Filter">
                   		<filter string="Received Hard Copy" name="received_hard_copy" icon="terp-go-home" 
                                domain="[('is_received_hard_copy', '=', True)]"/>
	                    <filter string="Not Received Hard Copy" name="not_received_hard_copy" icon="terp-go-home" 
	                                domain="[('is_received_hard_copy', '=', False)]"/>	
                   	</group> 	
                    <field name="school_id"/>
      			    <field name="recruitment_degree_id"/>                    
                    <field name="speciality_id"/>
                    <field name="faculty_id"/> 	
                    <field name="certificate_type"/> 	
                	<field name="name" string="Certificate Info" 
        			 filter_domain="['|','|','|',('name','ilike',self),('employee_id.name','ilike',self),('employee_id.login','ilike',self),('employee_id.code','ilike',self)]"/>
        			
                </search>
            </field>
        </record>

        <record model="ir.actions.act_window" id="act_vhr_certificate_info">
            <field name="name">Certificate Info</field>
            <field name="res_model">vhr.certificate.info</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="groups_id" eval=""/>
            <field name="domain">[('employee_id','!=',False)]</field>
        </record>
    </data>
</openerp>